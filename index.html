<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å‘Šç™½åŠ¨ç”»</title>
<style>
body{
    margin:0;
    height:100vh;
    overflow:hidden;
    background: linear-gradient(-45deg,#ff9a9e,#fad0c4,#ffdde1,#ee9ca7);
    background-size:400% 400%;
    animation:bgMove 10s ease infinite;
    font-family:"å¾®è½¯é›…é»‘";
}
@keyframes bgMove{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}
.left-text, .right-text{
    position:absolute;
    top:20%;
    width:35%;
    color:white;
    font-size:26px;
    line-height:50px;
    letter-spacing:2px;
}
.left-text{ left:5%; text-align:left;}
.right-text{ right:5%; text-align:right;}
.line{opacity:0; transform:translateY(20px); transition: all 1.5s ease;}
.heart{
    position:absolute;
    left:50%;
    top:50%;
    width:130px;
    height:130px;
    margin-left:-65px;
    margin-top:-65px;
    background:#ff4d6d;
    transform:rotate(-45deg);
    animation:beat 1.2s infinite;
    box-shadow:0 0 40px rgba(255,0,80,0.6);
    z-index:2;
}
.heart:before, .heart:after{
    content:"";
    position:absolute;
    width:130px;
    height:130px;
    background:#ff4d6d;
    border-radius:50%;
}
.heart:before{ top:-65px; left:0;}
.heart:after{ left:65px; top:0;}
@keyframes beat{
    0%{ transform:rotate(-45deg) scale(1);}
    50%{ transform:rotate(-45deg) scale(1.2);}
    100%{ transform:rotate(-45deg) scale(1);}
}
.tip{
    position:absolute;
    bottom:40px;
    width:100%;
    text-align:center;
    color:white;
    font-size:18px;
    opacity:0;
}
.big-text{
    position:absolute;
    width:100%;
    top:50%;
    left:0;
    text-align:center;
    font-size:60px;
    color:white;
    font-weight:bold;
    opacity:0;
    transform:translateY(-50%) scale(0.5);
    text-shadow:0 0 30px rgba(255,0,100,0.8);
}
.particle{
    position:absolute;
    width:10px;
    height:10px;
    background:#ff4d6d;
    transform:rotate(-45deg);
    border-radius:50%;
}
.particle:before, .particle:after{
    content:"";
    position:absolute;
    width:10px;
    height:10px;
    background:#ff4d6d;
    border-radius:50%;
}
.particle:before{ top:-5px; left:0;}
.particle:after{ left:5px; top:0;}
</style>
</head>
<body>

<div class="left-text">
    <div class="line">é‡è§ä½ </div>
    <div class="line">æ˜¯å‘½è¿çš„å®‰æ’</div>
    <div class="line">æ˜¯å¿ƒè·³çš„å¼€å§‹</div>
</div>

<div class="right-text">
    <div class="line">å¾€åä½™ç”Ÿ</div>
    <div class="line">é£é›ªæ˜¯ä½ </div>
    <div class="line">å¹³æ·¡ä¹Ÿæ˜¯ä½  â¤ï¸</div>
</div>

<div class="heart"></div>
<div class="tip" id="tip">ç‚¹å‡»å±å¹•æœ‰æƒŠå–œ ğŸ’–</div>
<div class="big-text" id="loveText">I LOVE YOU</div>

<!-- èƒŒæ™¯éŸ³ä¹ -->
<audio id="bgMusic" loop>
  <source src="background.mp3" type="audio/mpeg">
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
</audio>

<script>
let lines = document.querySelectorAll(".line");
let tip = document.getElementById("tip");
let loveText = document.getElementById("loveText");
let heart = document.querySelector(".heart");
let bgMusic = document.getElementById("bgMusic");

// æ–‡å­—ä¾æ¬¡å‡ºç°
lines.forEach((line,i)=>{
    setTimeout(()=>{
        line.style.opacity=1;
        line.style.transform="translateY(0)";
    },1500*i);
});

// æ˜¾ç¤ºç‚¹å‡»æç¤º
setTimeout(()=>{
    tip.style.transition="opacity 2s";
    tip.style.opacity=1;
},1500*lines.length+500);

// å¾®ä¿¡/æ‰‹æœºæµè§ˆå™¨å…¼å®¹è‡ªåŠ¨æ’­æ”¾
function wxAutoPlay() {
    bgMusic.play().catch(()=>{}); // å°è¯•è‡ªåŠ¨æ’­æ”¾
    document.addEventListener("WeixinJSBridgeReady", function() {
        bgMusic.play(); // å¾®ä¿¡ä¸“ç”¨
    }, false);
}
wxAutoPlay();

// ç‚¹å‡»å±å¹•è§¦å‘éŸ³ä¹å’Œå¿ƒå½¢çˆ†ç‚¸
let exploded = false;
document.addEventListener("click",function(){
    // é¦–æ¬¡ç‚¹å‡»è§¦å‘éŸ³ä¹æ’­æ”¾
    bgMusic.play().catch(()=>{});

    if(exploded) return;
    if(tip.style.opacity==1){
        tip.style.opacity=0;
        exploded=true;

        let rect = heart.getBoundingClientRect();
        let centerX = rect.left + rect.width/2;
        let centerY = rect.top + rect.height/2;

        heart.remove();

        for(let i=0;i<200;i++){
            let p = document.createElement("div");
            p.className="particle";
            document.body.appendChild(p);
            p.style.left=centerX-5+"px";
            p.style.top=centerY-5+"px";

            let angle = Math.random()*2*Math.PI;
            let radius = Math.random()*300+50;
            let x = Math.cos(angle)*radius;
            let y = Math.sin(angle)*radius;

            p.animate([
                { transform:"translate(0,0) rotate(-45deg)", opacity:1 },
                { transform:`translate(${x}px,${y}px) rotate(-45deg)`, opacity:0 }
            ],{
                duration:1500,
                easing:"ease-out"
            });

            setTimeout(()=>p.remove(),1600);
        }

        setTimeout(()=>{
            loveText.style.transition="all 2s ease";
            loveText.style.opacity=1;
            loveText.style.transform="translateY(-50%) scale(1)";
        },800);
    }
});
</script>

</body>
</html>
