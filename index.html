<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å‘Šç™½åŠ¨ç”» - æ˜Ÿç©ºæ¨±èŠ±ç‰ˆ</title>
<style>
body{
    margin:0;
    height:100vh;
    overflow:hidden;
    background: radial-gradient(ellipse at bottom, #0b0c2a 0%, #000 100%);
    font-family:"å¾®è½¯é›…é»‘";
    position: relative;
    color:white;
}

/* æ˜Ÿç©ºç²’å­ */
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    opacity:0.8;
    animation: twinkle 2s infinite alternate;
}
@keyframes twinkle{
    0%{ opacity:0.3; }
    100%{ opacity:1; }
}

/* æ¨±èŠ±èŠ±ç“£ */
.sakura{
    position:absolute;
    width:20px;
    height:20px;
    background: pink;
    border-radius:50% 50% 50% 50%;
    opacity:0.8;
    transform: rotate(0deg);
    animation: fall linear infinite;
}
@keyframes fall{
    0% { transform: translateY(-20px) rotate(0deg); opacity:0.8;}
    100% { transform: translateY(110vh) rotate(360deg); opacity:0;}
}

/* å·¦å³æ–‡å­— */
.left-text, .right-text{
    position:absolute;
    top:20%;
    width:35%;
    font-size:26px;
    line-height:50px;
    letter-spacing:2px;
}
.left-text{ left:5%; text-align:left;}
.right-text{ right:5%; text-align:right;}
.line{opacity:0; transform:translateY(20px); transition: all 1.5s ease;}

/* å¿ƒå½¢ */
.heart{
    position:absolute;
    left:50%;
    top:50%;
    width:130px;
    height:130px;
    margin-left:-65px;
    margin-top:-65px;
    background:#ff4d6d;
    transform:rotate(-45deg);
    animation:beat 1.2s infinite;
    box-shadow:0 0 40px rgba(255,0,80,0.6);
    z-index:3;
}
.heart:before, .heart:after{
    content:"";
    position:absolute;
    width:130px;
    height:130px;
    background:#ff4d6d;
    border-radius:50%;
}
.heart:before{ top:-65px; left:0;}
.heart:after{ left:65px; top:0;}
@keyframes beat{
    0%{ transform:rotate(-45deg) scale(1);}
    50%{ transform:rotate(-45deg) scale(1.2);}
    100%{ transform:rotate(-45deg) scale(1);}
}

/* æç¤ºæ–‡å­— */
.tip{
    position:absolute;
    bottom:40px;
    width:100%;
    text-align:center;
    font-size:18px;
    opacity:0;
    z-index:4;
}

/* I LOVE YOU æ–‡å­— */
.big-text{
    position:absolute;
    width:100%;
    top:50%;
    left:0;
    text-align:center;
    font-size:60px;
    font-weight:bold;
    opacity:0;
    transform:translateY(-50%) scale(0.5);
    text-shadow:0 0 30px rgba(255,0,100,0.8);
    z-index:5;
}

/* å¿ƒå½¢çˆ†ç‚¸ç²’å­ */
.particle {
    position:absolute;
    width:10px;
    height:10px;
    background:#ff4d6d;
    border-radius:50%;
    pointer-events:none;
    z-index:4;
}

/* è§†é¢‘èƒŒæ™¯ */
#bgVideo {
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    object-fit:cover;
    z-index:-2;
    display:none;
}
</style>
</head>
<body>

<!-- èƒŒæ™¯è§†é¢‘ -->
<video id="bgVideo" autoplay muted loop>
    <source src="your-video.mp4" type="video/mp4">
    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
</video>

<!-- æ˜Ÿç©ºç²’å­å®¹å™¨ -->
<div id="stars"></div>

<div class="left-text">
    <div class="line">é‡è§ä½ </div>
    <div class="line">æ˜¯å‘½è¿çš„å®‰æ’</div>
    <div class="line">æ˜¯å¿ƒè·³çš„å¼€å§‹</div>
</div>

<div class="right-text">
    <div class="line">å¾€åä½™ç”Ÿ</div>
    <div class="line">é£é›ªæ˜¯ä½ </div>
    <div class="line">å¹³æ·¡ä¹Ÿæ˜¯ä½  â¤ï¸</div>
</div>

<div class="heart"></div>
<div class="tip" id="tip">ç‚¹å‡»å±å¹•æœ‰æƒŠå–œ ğŸ’–</div>
<div class="big-text" id="loveText">I LOVE YOU</div>

<!-- èƒŒæ™¯éŸ³ä¹ -->
<audio id="bgMusic" loop>
  <source src="background.mp3" type="audio/mpeg">
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
</audio>

<script>
// æ–‡å­—ä¾æ¬¡å‡ºç°
let lines = document.querySelectorAll(".line");
let tip = document.getElementById("tip");
let loveText = document.getElementById("loveText");
let heart = document.querySelector(".heart");
let bgMusic = document.getElementById("bgMusic");
let bgVideo = document.getElementById("bgVideo");

lines.forEach((line,i)=>{
    setTimeout(()=>{
        line.style.opacity=1;
        line.style.transform="translateY(0)";
    },1500*i);
});

setTimeout(()=>{
    tip.style.transition="opacity 2s";
    tip.style.opacity=1;
},1500*lines.length+500);

// å¾®ä¿¡/æ‰‹æœºæµè§ˆå™¨å…¼å®¹è‡ªåŠ¨æ’­æ”¾
function wxAutoPlay() {
    bgMusic.play().catch(()=>{}); 
    document.addEventListener("WeixinJSBridgeReady", function() {
        bgMusic.play(); 
    }, false);
}
wxAutoPlay();

// ç‚¹å‡»å±å¹•è§¦å‘åŠ¨ç”»å’Œè§†é¢‘èƒŒæ™¯
let exploded = false;
document.addEventListener("click",function(){
    bgMusic.play().catch(()=>{});
    if(exploded) return;
    if(tip.style.opacity==1){
        tip.style.opacity = 0;
        exploded = true;

        // ç§»é™¤æ˜Ÿæ˜Ÿå’Œæ¨±èŠ±
        document.querySelectorAll(".star, .sakura").forEach(el => el.remove());

        // æ˜¾ç¤ºè§†é¢‘èƒŒæ™¯
        bgVideo.style.display = "block";
        bgVideo.play().catch(()=>{});

        // å¿ƒå½¢çˆ†ç‚¸
        let rect = heart.getBoundingClientRect();
        let centerX = rect.left + rect.width/2;
        let centerY = rect.top + rect.height/2;
        heart.remove();

        for(let i=0;i<200;i++){
            let p = document.createElement("div");
            p.className="particle";
            document.body.appendChild(p);
            p.style.left = centerX-5+"px";
            p.style.top = centerY-5+"px";

            let angle = Math.random()*2*Math.PI;
            let radius = Math.random()*300+50;
            let x = Math.cos(angle)*radius;
            let y = Math.sin(angle)*radius;

            p.animate([
                { transform:"translate(0,0) rotate(-45deg)", opacity:1 },
                { transform:`translate(${x}px,${y}px) rotate(-45deg)`, opacity:0 }
            ], { duration:1500, easing:"ease-out" });

            setTimeout(()=>p.remove(),1600);
        }

        // æ˜¾ç¤º I LOVE YOU
        setTimeout(()=>{
            loveText.style.transition="all 2s ease";
            loveText.style.opacity=1;
            loveText.style.transform="translateY(-50%) scale(1)";
        },800);
    }
});

// ç”Ÿæˆæ˜Ÿç©º
for(let i=0;i<200;i++){
    let star = document.createElement("div");
    star.className="star";
    star.style.left = Math.random()*window.innerWidth+"px";
    star.style.top = Math.random()*window.innerHeight+"px";
    star.style.width = Math.random()*2+1+"px";
    star.style.height = star.style.width;
    document.body.appendChild(star);
}

// ç”Ÿæˆæ¨±èŠ±èŠ±ç“£
function createSakura(){
    let sakura = document.createElement("div");
    sakura.className="sakura";
    sakura.style.left = Math.random()*window.innerWidth+"px";
    sakura.style.animationDuration = (5 + Math.random()*5)+"s";
    sakura.style.width = sakura.style.height = (10+Math.random()*15)+"px";
    document.body.appendChild(sakura);
    setTimeout(()=> sakura.remove(), 10000);
}
setInterval(createSakura, 300);
</script>

</body>
</html>
